<mvc:View 
  xmlns:html="http://www.w3.org/1999/xhtml" 
  xmlns:mvc="sap.ui.core.mvc" 
  xmlns="sap.m" 
  xmlns:l="sap.ui.layout" 
  xmlns:f="sap.ui.layout.form" 
  xmlns:core="sap.ui.core" 
  xmlns:mc="sap.suite.ui.microchart" 
  xmlns:u="sap.ui.unified" 
  xmlns:c="com.ui5.dotproject.timecard.control" controllerName="com.ui5.dotproject.timecard.controller.Main" displayBlock="true">
  <Page id="idPageMain">
    <headerContent>
      <Bar>
        <contentLeft>
          <Button id="idButtonSettings" icon="sap-icon://settings" tooltip="{i18n>/settings}" press="onSettings"/>
        </contentLeft>
        <contentMiddle>
          <Title text="{i18n>titleMain}"/>
        </contentMiddle>
        <contentRight>
          <core:Icon src="{timecard>/loginStatusIcon}" color="{timecard>/loginStatusIconColor}" tooltip="{timecard>/loginStatusIconTooltip}"/>
        </contentRight>
      </Bar>
    </headerContent>
    <content>
      <IconTabBar selectedKey="__xmlview0--__filter4" id="__bar2" expandable="false" backgroundDesign="Translucent" select="onTabSelect">
        <items>
          <IconTabFilter text="{i18n>reportWorkHours}" id="__filter3" key="reportWorkHours">
            <content>
              <f:SimpleForm editable="true" layout="ResponsiveGridLayout" id="__form0">
                <f:content>
                  <Text text="{i18n>timecardWarning}" id="__title1"/>
                  <Label text="{i18n>status}" id="__label1"/>
                  <ComboBox id="__box0" items="{settings>/statuses}" required="true" selectedKey="{timecard>/statusId}">
                    <items>
                      <core:ListItem text="{settings>title}" key="{settings>statusId}"/>
                    </items>
                  </ComboBox>
                  <Label text="{i18n>date}" width="100%" id="__label2"/>
                  <DatePicker width="100%" id="__input2" required="true" valueFormat="dd/MM/YYYY" displayFormat="dd/MM/YYYY" value="{timecard>/date}"/>
                  <Label text="{i18n>startTime}" width="100%" id="__label3"/>
                  <TimePicker width="100%" id="__input3" valueFormat="HH:mm" displayFormat="HH:mm" required="true" value="{timecard>/timeBegin}"/>
                  <Label text="{i18n>endTime}" width="100%" id="__label5"/>
                  <TimePicker width="100%" id="__input5" valueFormat="HH:mm" displayFormat="HH:mm" required="true" value="{timecard>/timeEnd}"/>
                </f:content>
              </f:SimpleForm>
            </content>
          </IconTabFilter>
          <IconTabFilter id="__filter4" text="{i18n>showReportedHours}" key="showReportedHours">
            <content>
              <HBox>
                <mc:ComparisonMicroChart size="L" scale="" class="sapUiSmallMargin" press="press">
                  <mc:data>
                    <mc:ComparisonMicroChartData title="{i18n>hoursMinimum}" value="{settings>/hoursMinimumCurrent}" color=""/>
                    <mc:ComparisonMicroChartData title="{i18n>hoursWorked}" value="{timecard>/hoursWorked}" color="{ parts: [ { path: 'settings>/hoursMinimum' }, { path: 'timecard>/hoursWorked' } ], formatter: '.formatter.formatHoursWorkedColor' }"/>
                  </mc:data>
                </mc:ComparisonMicroChart>
                <Toolbar class="toolbarNoFooterLine">
                  <Button icon="sap-icon://add" tooltip="{i18n>add}" press="onAddMinimumHours"/>
                  <Button icon="sap-icon://less" tooltip="{i18n>subtract}" press="onSubtractMinimumHours"/>
                </Toolbar>
              </HBox>
              <Text width="100%" text="{i18n>workingHoursReportedTableWarning}" id="__title2" />
              <c:Calendar id="idCalendar" class="calendarWithoutDays" startDateChange="onCalendarChange"/>
              <Table id="idWorkingHoursReportedTable" items="{timecard>/hoursReported}">
                <headerToolbar>
                  <Toolbar>
                    <Title text="{parts:['i18n>showReportedHoursTableTitle', 'timecard>/currentMonthDescription'], formatter: 'jQuery.sap.formatMessage'}"/>
                    <ToolbarSpacer/>
                    <Button tooltip="{i18n>viewSettings}" icon="sap-icon://drop-down-list" press="handleOpenViewSettingsDialog" />
                    <Button tooltip="{i18n>refresh}" icon="sap-icon://refresh" press="onRefreshHoursWorkedTableData"/>
                  </Toolbar>
                </headerToolbar>
                <swipeContent>
                  <Button
                    visible="{= ${device>/support/touch} }"
                    tooltip="{i18n>delete}"
                    icon="sap-icon://delete"
                    type="Reject"
                    press="onDeleteReportedHoursSwipe" />
                </swipeContent>
                <items>
                  <ColumnListItem>
                    <cells>
                      <Text text="{timecard>status}"/>
                      <Text text="{timecard>date}"/>
                      <Text text="{timecard>timeBegin}"/>
                      <Text text="{timecard>timeEnd}"/>
                      <Text text="{timecard>hoursWorked}"/>
                      <HBox>
                        <Text 
                          visible="{= ${device>/support/touch} }"
                          text="" />
                        <Button
                          visible="{= !${device>/support/touch} }"
                          tooltip="{i18n>delete}"
                          icon="sap-icon://delete"
                          type="Reject"
                          press="onDeleteReportedHoursButton" />
                      </HBox>
                    </cells>
                  </ColumnListItem>
                </items>
                <columns>
                  <Column>
                    <Text text="{i18n>status}"/>
                  </Column>
                  <Column width="5rem">
                    <Text text="{i18n>date}"/>
                  </Column>
                  <Column>
                    <Text text="{i18n>startTime}"/>
                  </Column>
                  <Column>
                    <Text text="{i18n>endTime}"/>
                  </Column>
                  <Column>
                    <Text text="{i18n>hoursWorked}"/>
                  </Column>
                  <Column>
                    <Text text=""/>
                  </Column>
                </columns>
              </Table>
            </content>
          </IconTabFilter>
        </items>
      </IconTabBar>
    </content>
    <footer>
      <Toolbar>
        <Button id="idMessagePopoverButton" icon="sap-icon://message-popup" text="{= ${messages>/}.length }" type="Emphasized" press="onMessagePopover"/>
        <ToolbarSpacer/>
        <Button visible="{timecard>/footerToolbarVisible}" text="{i18n>report}" width="100px" id="__button0" type="Accept" press="onReport"/>
      </Toolbar>
    </footer>
  </Page>
</mvc:View>